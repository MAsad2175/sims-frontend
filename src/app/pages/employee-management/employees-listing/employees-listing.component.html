<div class="row">
  <div class="col-12">
    <div class="page-title-box d-flex justify-content-between align-items-center">
      <h4 class="page-title">Employee's Details</h4>
      <button type="button" class="btn btn-primary waves-effect waves-light"  [routerLink]="['/employee/add']">Add New</button>
    </div>
  </div>
</div>

<div class="card">
  <div class="card-body">

    <div class="search_card">
      <div class="row">
        <!--Designation-->
        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-3">
          <div class="form-group">
            <label>Designation</label>
            <select name="gender" id="designation" data-live-search="true" class="form-control form-control-sm selectpicker" [(ngModel)]="designation" >
              <option [value]="''">Select Designation</option>
              <ng-container *ngFor="let d of designationList">
                <option [value]="d.id">{{d.name}}</option>
              </ng-container>
            </select>
          </div>
        </div>
        <!--Employee Name-->
        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-3">
          <div class="form-group">
            <label>Employee Name</label>
            <input type="text" class="form-control form-control-sm" placeholder="Employee Name" [(ngModel)]="name" />
          </div>
        </div>
        <!--Employee File No.-->
        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-3">
          <div class="form-group">
            <label>Employee File No.</label>
            <input type="text" class="form-control form-control-sm" placeholder="Employee File No." [(ngModel)]="employeeFileNo" />
          </div>
        </div>
        <!--CNIC-->
        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-3">
          <div class="form-group">
            <label>CNIC</label>
            <input type="text" class="form-control form-control-sm" placeholder="CNIC" [(ngModel)]="nic" />
          </div>
        </div>
        <!--Search-->
        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-3 align-self-end">
          <div class="form-group">
            <div class="text-left">
              <button class="btn btn-sm btn-primary" type="submit" (click)="searchFilter()" >Search</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="table-responsive" *ngIf="list?.length > 0">
      <table class="table table-vertical-center mb-0">
        <thead>
        <tr class="text-left">
          <th style="width: 10%">Id</th>
          <th class="pr-0" style="width: 9%">Authors</th>
          <th style="width: 15%"></th>
          <th style="width: 15%">Department</th>
          <th style="width: 15%">Cnic</th>
          <th style="width: 15%">Contact No.</th>
          <th style="width: 11%; text-align: center">Status</th>
          <th class="pr-0 text-right" style="width: 5%">Action</th>
        </tr>
        </thead>
        <tbody>
        <ng-container *ngFor="let indexvalue of list; let i = index">
          <tr>
            <td>{{indexvalue?.teacher_file_no}}</td>
            <td class="pr-0">
              <div class="d-flex align-items-center mr-2">
                <div style="height: 60px; width: 60px; text-align: center;">
                  <img *ngIf="indexvalue.image === '' || indexvalue.image === null" src="../../../../../assets/media/users/blank.png" style="object-fit: cover; margin: 0 !important; padding: 5px; max-width: 100%; height: 100%; border-radius: 10px; height: 100%" />
                  <img *ngIf="indexvalue.image !== '' && indexvalue.image !== null" src="{{imagePath}}{{indexvalue?.image}}" class="side_applicant_image" style="object-fit: cover; margin: 0 !important; padding: 5px; max-width: 100%; height: 100%; border-radius: 10px; height: 100%; width: 100%" />
                </div>
              </div>
            </td>
            <td class="pl-0">
              <span class="text-dark-75 font-weight-bolder text-hover-primary mb-1 font-size-lg">{{indexvalue?.first_name}}<span *ngIf="indexvalue?.middle_name !== null"> {{indexvalue?.middle_name}}</span> {{indexvalue?.last_name}}</span>
              <span class="text-muted font-weight-bold text-muted d-block">{{indexvalue?.designation}}</span>
            </td>
            <td>{{indexvalue?.department}}</td>
            <td>{{indexvalue?.nic}}</td>
            <td>{{indexvalue?.primary_contact}}</td>
            <td class="text-center">
              <span *ngIf="indexvalue?.status === true " class="activeStatus">Active</span>
              <span *ngIf="indexvalue?.status === false " class="inactiveStatus">Inactive</span>
            </td>
            <td class="pr-0 text-right">
              <button type="button" class="btn btn-light waves-effect waves-light" style="padding: 4px 8px;" (click)="editIndex(indexvalue?.id)">
                <i class="fas fa-edit text-primary"></i>
              </button>
            </td>
          </tr>
        </ng-container>
        </tbody>
      </table>
    </div> <!-- end table-responsive-->

    <div class="pagination_main" *ngIf="list?.length > 0">
      <ngb-pagination [(page)]="page" (pageChange)="loadPage(page)" [pageSize]="perPage" [collectionSize]="totalPages" [maxSize]="5" [rotate]="true" [ellipses]="false" [boundaryLinks]="true"></ngb-pagination>
      <div class="dropdown">
        <a class="btn dropdown-toggle btn-light btn-sm"  role="button" id="pagination_btn" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <span class="page_count">
                        {{perPageValue}}
                    </span>
          <i _ngcontent-eoh-c3="" class="mdi mdi-chevron-down"></i>
        </a>
        <div class="dropdown-menu" aria-labelledby="pagination_btn">
          <a class="dropdown-item" (click)="selectPaginationLimit(25)">25</a>
          <a class="dropdown-item" (click)="selectPaginationLimit(50)">50</a>
          <a class="dropdown-item" (click)="selectPaginationLimit(75)">75</a>
          <a class="dropdown-item" (click)="selectPaginationLimit(100)">100</a>
          <a class="dropdown-item" (click)="selectPaginationLimit('')">All</a>
        </div>
      </div>
    </div>

  </div>
</div>